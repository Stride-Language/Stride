use DesktopAudio version 1.0

loop Accumulate {
	ports: [	
		mainInputPort InputPort { block: Input }
		mainOutputPort OutputPort { block: Output }
	]
	blocks: [
		signal Input[InputPort.size] {}
		signal Output {default: 0 reset: Reset }
		signal Index { default: 1 reset: Reset }
		switch Done {default: off reset:Reset }
		trigger Reset {}
	]
	streams: [
		Input[1] + Input[2] + Input[3] >> Output;
		on >> Done;
	]
	onExecution: Reset
	terminateWhen: Done
}


[AudioIn[1], AudioIn[2], 7] >> Accumulate() >> AudioOut[1];

